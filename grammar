RE = TERM 
     TERM | RE
     ( RE )

TERM = SEQ 
       SEQ TERM 

SEQ = REP
      ~ REP 

REP = CHARSET
      CHARSET OP 

OP = +
     -
     *
     ?

CHARSEQ = CHAR
          CHAR CHARSEQ

CHARSETBODY = CHARSEQ
              ^ CHARSEQ

CHARSET = CHAR
          [ CHARSETBODY ]

CHAR = any char not metacharacter
       \ META

META = OP
       ~
       (
       )
       |
       \
       [
       ]
       $
       ^
